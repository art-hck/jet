services:
  comment.repository:
    class: CommentBundle\Repository\CommentRepository
    factory: ['@doctrine.orm.entity_manager', 'getRepository']
    arguments:
      - CommentBundle\Entity\Comment

  comment.service.comment_service:
    class: CommentBundle\Service\CommentService
    arguments:
      - '@comment.repository'

  comment.form.handler.create_comment_data_handler:
    class: CommentBundle\Form\Handler\CreateCommentDataHandler
    arguments:
      - '%comment.max_attachments_limit%'
      - '@attachment.service.attachment_service'